(this["webpackJsonpreact-flights"]=this["webpackJsonpreact-flights"]||[]).push([[0],{181:function(t,n,e){},182:function(t,n,e){"use strict";e.r(n);var a=e(0),c=e.n(a),o=e(13),i=e.n(o),r=e(14),l=e(21),u=e.n(l),s=e(82),d="LOCATIONS_RESET",b="LOCATIONS_ADD",f="FLIGHTS_SET_LOADER",j="FLIGHTS_RESET",p="FLIGHTS_ADD",h=function(){return function(t){return console.log("locations"),u.a.get("https://api.skypicker.com/locations?term=Bcn&location_types=airport").then((function(n){var e,a=n.data,c=void 0===a?[]:a;console.log(n),t((e=c.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:t.id,name:t.login,url:t.url,imgUrl:t.avatar_url}})),{type:b,payload:{loctions:e}}))})).catch((function(t){return console.log(t)}))}},O=function(t){return{type:p,payload:{flights:t}}},g=function(t){return{type:f,payload:{loading:t}}},m=e(44),v=function(t){return t.flights||t||{}},y=Object(m.a)(v,(function(t){return t.allIds||[]})),x=Object(m.a)(v,(function(t){return t.byIds||{}})),_=Object(m.a)(v,(function(t){return!!t.loading})),S=e(27),I=e(5),D=function(t){var n=t.children,e=t.onSubmit,a=void 0===e?function(){}:e;return Object(I.jsx)(S.b,{onSubmit:function(t){a(t)},children:function(t){return Object(I.jsx)("form",{onSubmit:t.handleSubmit,children:n})}})},w=e(50),L=e.n(w),k=e(60),C=e.n(k),F=function(t){var n=t.children,e=t.type,a=void 0===e?"submit":e,c=t.label,o=t.disabled,i=void 0!==o&&o,r=t.loading,l=void 0!==r&&r,u=t.onClick,s=void 0===u?function(){}:u,d=!(i||l),b=n||c;return b?Object(I.jsx)("button",{type:a,onClick:function(t){d&&s()},disabled:!d,className:L()(C.a.btn,!d&&C.a.disabled),children:b}):null},T=e(8),E=e(33),N=e(88),A=[],R=function(t){var n=t.onChange,e=t.label,c=void 0===e?"Search":e,o=Object(a.useState)(A),i=Object(E.a)(o,2),r=i[0],l=i[1];return Object(I.jsx)(N.a,{isMulti:!0,options:r,onInputChange:function(t){u.a.get("https://api.skypicker.com/locations?term=".concat(t,"&location_types=airport")).then((function(t){var n=t.data,e=(void 0===n?{}:n).locations;l((void 0===e?[]:e).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{value:t.id,label:t.name}})))})).catch((function(t){return console.log(t)}))},onChange:function(t){n(t)},placeholder:c})},B=function(t){var n=t.name,e=t.label,a=void 0===e?"Search":e;return Object(I.jsx)(S.a,{name:n,children:function(t){return Object(I.jsx)("div",{children:Object(I.jsx)(R,Object(T.a)({label:a},t.input))})}})},P=e(61),M=e.n(P),G=(e(124),e(45)),H=e.n(G),J=function(t){var n=t.onChange,e=new Date,c=new Date,o=Object(a.useState)(e),i=Object(E.a)(o,2),r=i[0],l=i[1],u=Object(a.useState)(c.setDate(c.getDate()+7)),s=Object(E.a)(u,2),d=s[0],b=s[1];Object(a.useEffect)((function(){n({from:r,to:d})}),[r,d]);return Object(I.jsxs)("div",{className:H.a.wrapper,children:[Object(I.jsx)(M.a,{className:H.a.input,selected:r,onChange:function(t){l(t)},selectsStart:!0,startDate:r,endDate:d}),Object(I.jsx)(M.a,{className:H.a.input,selected:d,onChange:function(t){b(t)},selectsEnd:!0,startDate:r,endDate:d,minDate:r})]})},q=function(t){var n=t.name,e=t.label,a=void 0===e?"Search":e;return Object(I.jsx)(S.a,{name:n,children:function(t){return Object(I.jsx)("div",{children:Object(I.jsx)(J,Object(T.a)({label:a},t.input))})}})},K=function(t){var n=t.isLoading,e=void 0!==n&&n,a=t.onSubmit;return Object(I.jsxs)(D,{onSubmit:function(t){console.log("we are doing submit here"),console.log(t),console.log("we are doing submit here"),a()},children:[Object(I.jsx)(B,{name:"from",label:"From"}),Object(I.jsx)(B,{name:"to",label:"To"}),Object(I.jsx)(q,{name:"dates"}),Object(I.jsx)(F,{label:"Search",loading:e})]})},U=Object(r.b)((function(t){return{isLoading:_(t)}}),(function(t){return{onSubmit:function(){return t((function(t){t(g(!0)),u.a.get("https://api.skypicker.com/flights",{params:{v:"3",fly_from:"JFK",fly_to:"MCO",partner:"skypicker",date_from:"13/12/2021",date_to:"24/12/2021",sort:"price",asc:1,limit:20}}).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(s.get)(n,"data.data",[]);t(O(e.map((function(t){return{id:t.id,cityFrom:t.cityFrom,cityTo:t.cityTo}}))))})).catch((function(t){return console.log(t)})).finally((function(){return t(g(!1))}))}))}}}))(c.a.memo(K)),W=e(84),Y=e.n(W),z=function(){return Object(I.jsx)("div",{className:Y.a.wrapper,children:"Flight goes here my page ocntent"})},Q=Object(r.b)((function(t,n){var e=function(t,n){return x(t)[n]}(t,n.id);return console.log("Flichg",e),{id:"aa",from:"bb",to:"cc"}}),{})(c.a.memo(z)),V=e(85),X=e.n(V),Z=function(t){var n=t.flights,e=void 0===n?[]:n,a=t.isLoading,c=void 0!==a&&a,o=!!e.length;return Object(I.jsx)("div",{className:X.a.wrapper,children:c?"Loading...":o?e.map((function(t){return Object(I.jsx)(Q,{id:t},t)})):"Please filter better"})},$=Object(r.b)((function(t){return{flights:y(t),isLoading:_(t)}}),{})(c.a.memo(Z)),tt=function(t){var n=t.onLoad;return Object(a.useEffect)((function(){}),[n]),Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(U,{}),Object(I.jsx)($,{})]})},nt=Object(r.b)((function(t){return{}}),(function(t){return{onLoad:function(){return t((function(t){t(h()).then((function(){return console.log("locations loaded")})).catch((function(t){return console.log(t)}))}))}}}))(c.a.memo(tt)),et=e(26),at=e(86),ct=e(87),ot=e(28),it={allIds:[],byIds:{}},rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case b:var e=n.payload.locations,a=void 0===e?[]:e,c={};return a.forEach((function(t){c[t.id]=Object(T.a)({},t)})),Object(T.a)(Object(T.a)({},t),{},{allIds:[].concat(Object(ot.a)(t.allIds),Object(ot.a)(a.map((function(t){return t.id})))),byIds:Object(T.a)(Object(T.a)({},t.byIds),c)});case d:return it;default:return t}},lt={loading:!1,allIds:[],byIds:{}},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p:var e=n.payload.flights,a=void 0===e?[]:e,c={};return a.forEach((function(t){c[t.id]=Object(T.a)({},t)})),Object(T.a)(Object(T.a)({},t),{},{allIds:[].concat(Object(ot.a)(t.allIds),Object(ot.a)(a.map((function(t){return t.id})))),byIds:Object(T.a)(Object(T.a)({},t.byIds),c)});case f:var o=n.payload.loading,i=void 0!==o&&o;return Object(T.a)(Object(T.a)({},t),{},{loading:i});case j:return lt;default:return t}},st=Object(et.combineReducers)({flights:ut,locations:rt}),dt=Object(et.createStore)(st,Object(ct.composeWithDevTools)(Object(et.applyMiddleware)(at.a))),bt=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,187)).then((function(n){var e=n.getCLS,a=n.getFID,c=n.getFCP,o=n.getLCP,i=n.getTTFB;e(t),a(t),c(t),o(t),i(t)}))},ft=(e(181),document.getElementById("\ud83e\udd84"));i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(r.a,{store:dt,children:Object(I.jsx)(nt,{})})}),ft),bt()},45:function(t,n,e){t.exports={wrapper:"DateRange_wrapper__hm7q1",input:"DateRange_input__2ODPc"}},60:function(t,n,e){t.exports={btn:"Button_btn__1Lkv5",disabled:"Button_disabled__1f6YP"}},84:function(t,n,e){t.exports={wrapper:"FlightCard_wrapper__2kp2k"}},85:function(t,n,e){t.exports={wrapper:"FlightsList_wrapper__23ag3"}}},[[182,1,2]]]);
//# sourceMappingURL=main.8d8128cc.chunk.js.map