(this["webpackJsonpreact-flights"]=this["webpackJsonpreact-flights"]||[]).push([[0],{11:function(t,e,n){t.exports={wrapper:"FlightCard_wrapper__2kp2k",step:"FlightCard_step__8z8Q4",stepDetail:"FlightCard_stepDetail__1ELtc",content:"FlightCard_content__3iwTe",details:"FlightCard_details__1F0um",contentHeader:"FlightCard_contentHeader__2JiJn",price:"FlightCard_price__1z7lT",btn:"FlightCard_btn__SCryG",arrow:"FlightCard_arrow__K7VXF"}},185:function(t,e,n){},186:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(14),i=n.n(c),o=n(19),s=n(7),l=n(22),d=n.n(l),u=n(86),b="LOCATIONS_RESET",j="LOCATIONS_ADD",p="FLIGHTS_SET_LOADER",f="FLIGHTS_RESET",m="FLIGHTS_ADD",h=function(t){return{type:m,payload:{flights:t}}},O=function(t){return{type:p,payload:{loading:t}}},v=n(45),g=function(t){return t.flights||t||{}},_=Object(v.a)(g,(function(t){return t.allIds||[]})),x=Object(v.a)(g,(function(t){return t.byIds||{}})),y=Object(v.a)(g,(function(t){return!!t.loading})),D=n(62),N=n.n(D),F=n(28),w=n(52),C=n.n(w),S=n(63),I=n.n(S),T=n(5),L=function(t){var e=t.children,n=t.type,a=void 0===n?"submit":n,r=t.label,c=t.disabled,i=void 0!==c&&c,o=t.loading,s=void 0!==o&&o,l=t.className,d=t.onClick,u=void 0===d?function(){}:d,b=!(i||s),j=e||r;return j?Object(T.jsx)("button",{type:a,onClick:function(){b&&u()},disabled:!b,className:C()(I.a.btn,!b&&I.a.disabled,l),children:s?"Loading...":j}):null},k=n(34),E=n(93),Y=n(87),A=n.n(Y),M=[],R=function(t){var e=t.onChange,n=t.label,r=void 0===n?"Search":n,c=Object(a.useState)(M),i=Object(k.a)(c,2),o=i[0],s=i[1];return Object(T.jsx)(E.a,{isMulti:!0,options:o,onInputChange:function(t){d.a.get("https://api.skypicker.com/locations?term=".concat(t,"&location_types=airport")).then((function(t){var e=t.data,n=(void 0===e?{}:e).locations;s((void 0===n?[]:n).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{value:t.id,label:t.name}})))})).catch((function(t){return console.log(t)}))},onChange:function(t){e(t)},placeholder:r,className:A.a.wrapper})},H=function(t){var e=t.name,n=t.label,a=void 0===n?"Search":n;return Object(T.jsx)(F.a,{name:e,children:function(t){return Object(T.jsx)("div",{children:Object(T.jsx)(R,Object(s.a)({label:a},t.input))})}})},J=n(64),P=n.n(J),U=(n(128),n(46)),B=n.n(U),G=function(t){var e=t.onChange,n=new Date,r=new Date,c=Object(a.useState)(n),i=Object(k.a)(c,2),o=i[0],s=i[1],l=Object(a.useState)(r.setDate(r.getDate()+7)),d=Object(k.a)(l,2),u=d[0],b=d[1];Object(a.useEffect)((function(){e({from:o,to:u})}),[o,u]);return Object(T.jsxs)("div",{className:B.a.wrapper,children:[Object(T.jsx)(P.a,{className:B.a.input,selected:o,onChange:function(t){s(t)},selectsStart:!0,startDate:o,endDate:u,minDate:n}),Object(T.jsx)(P.a,{className:B.a.input,selected:u,onChange:function(t){b(t)},selectsEnd:!0,startDate:o,endDate:u,minDate:o})]})},V=function(t){var e=t.name,n=t.label,a=void 0===n?"Search":n;return Object(T.jsx)(F.a,{name:e,children:function(t){return Object(T.jsx)("div",{children:Object(T.jsx)(G,Object(s.a)({label:a},t.input))})}})},z=n(89),K=n.n(z),q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dates,n=void 0===e?{}:e;return void 0!==t.from&&void 0!==t.to&&void 0!==n.from&&void 0!==n.to},Q=function(t){var e=t.isLoading,n=void 0!==e&&e,a=t.onSubmit;return Object(T.jsx)(F.b,{onSubmit:function(t){var e=t.from,n=void 0===e?[]:e,r=t.to,c=void 0===r?[]:r,i=t.dates,o=void 0===i?{}:i;a({from:n.map((function(t){return t.value})).join(","),to:c.map((function(t){return t.value})).join(","),dateFrom:N()(o.from).format("DD/MM/YYYY"),dateTo:N()(o.to).format("DD/MM/YYYY")})},onChange:function(t){return console.log(t)},children:function(t){var e=t.values,a=t.handleSubmit;return Object(T.jsxs)("form",{onSubmit:a,children:[Object(T.jsx)(H,{name:"from",label:"From"}),Object(T.jsx)(H,{name:"to",label:"To"}),Object(T.jsx)(V,{name:"dates"}),Object(T.jsx)(L,{label:"Search",loading:n,disabled:!q(e),className:K.a.btn})]})}})},W=Object(o.b)((function(t){return{isLoading:y(t)}}),(function(t){return{onSubmit:function(e){return t((n=e,function(t){t(O(!0));var e=n.from,a=n.to,r=n.dateFrom,c=n.dateTo;d.a.get("https://api.skypicker.com/flights",{params:{v:"3",fly_from:e,fly_to:a,partner:"skypicker",date_from:r,date_to:c,sort:"price",asc:1,limit:20}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(u.get)(e,"data.data",[]);t(h(n.map((function(t){return Object(s.a)({id:t.id},t)}))))})).catch((function(t){return console.log(t)})).finally((function(){return t(O(!1))}))}));var n}}}))(r.a.memo(Q)),X=n(11),Z=n.n(X),$=function(){return Object(T.jsx)("span",{className:Z.a.arrow,children:"\u2193"})},tt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(t/3600).toFixed(2)+"h"},et=function(t){var e=t.from,n=t.to,a=t.duration;return Object(T.jsxs)("div",{className:Z.a.step,children:[Object(T.jsx)("span",{className:Z.a.stepDetail,children:e}),Object(T.jsx)($,{}),Object(T.jsx)("span",{className:Z.a.stepDetail,children:tt(a)}),Object(T.jsx)($,{}),Object(T.jsx)("span",{className:Z.a.stepDetail,children:n})]})},nt=function(t){var e=t.from,n=t.to,a=t.price,r=t.flightUrl,c=t.route,i=void 0===c?[]:c;return Object(T.jsxs)("div",{className:Z.a.wrapper,children:[Object(T.jsxs)("span",{className:Z.a.content,children:[Object(T.jsxs)("span",{className:Z.a.contentHeader,children:[e," - ",n]}),i.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(T.jsx)(et,{from:t.cityFrom,to:t.cityTo,duration:t.aTime-t.dTime},t.id)}))]}),Object(T.jsxs)("span",{className:Z.a.details,children:[Object(T.jsx)("span",{className:Z.a.price,children:a}),Object(T.jsx)("a",{href:r,children:Object(T.jsx)(L,{label:"select",className:Z.a.btn})})]})]})},at=Object(o.b)((function(t,e){var n=function(t,e){var n=x(t)[e],a=n.deep_link,r=n.cityFrom,c=n.cityTo,i=n.countryFrom,o=void 0===i?{}:i,l=n.countryTo,d=void 0===l?{}:l,u=n.conversion,b=void 0===u?{}:u,j=n.duration,p=void 0===j?{}:j;return Object(s.a)(Object(s.a)({},n),{},{fromName:"".concat(r," (").concat(o.name,")"),toName:"".concat(c," (").concat(d.name,")"),flightUrl:a,price:"\u20ac".concat(b.EUR),duration:p.departure||0})}(t,e.id);return console.log("Flichg",n),{id:n.id,from:n.fromName,to:n.toName,price:n.price,duration:n.duration,flightUrl:n.flightUrl,route:n.route}}),{})(r.a.memo(nt)),rt=n(90),ct=n.n(rt),it=function(t){var e=t.flights,n=void 0===e?[]:e,a=t.isLoading,r=void 0!==a&&a,c=!!n.length;return Object(T.jsx)("div",{className:ct.a.wrapper,children:r?"Loading...":c?n.map((function(t){return Object(T.jsx)(at,{id:t},t)})):"Please, select flight conditions"})},ot=Object(o.b)((function(t){return{flights:_(t),isLoading:y(t)}}),{})(r.a.memo(it)),st=n(47),lt=n.n(st),dt=function(){return Object(T.jsxs)("div",{className:lt.a.wrapper,children:[Object(T.jsx)("div",{className:lt.a.filters,children:Object(T.jsx)(W,{})}),Object(T.jsx)("div",{className:lt.a.table,children:Object(T.jsx)(ot,{})})]})},ut=n(27),bt=n(91),jt=n(92),pt=n(29),ft={allIds:[],byIds:{}},mt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:var n=e.payload.locations,a=void 0===n?[]:n,r={};return a.forEach((function(t){r[t.id]=Object(s.a)({},t)})),Object(s.a)(Object(s.a)({},t),{},{allIds:[].concat(Object(pt.a)(t.allIds),Object(pt.a)(a.map((function(t){return t.id})))),byIds:Object(s.a)(Object(s.a)({},t.byIds),r)});case b:return ft;default:return t}},ht={loading:!1,allIds:[],byIds:{}},Ot=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var n=e.payload.flights,a=void 0===n?[]:n,r={};return a.forEach((function(t){r[t.id]=Object(s.a)({},t)})),Object(s.a)(Object(s.a)({},t),{},{allIds:[].concat(Object(pt.a)(t.allIds),Object(pt.a)(a.map((function(t){return t.id})))),byIds:Object(s.a)(Object(s.a)({},t.byIds),r)});case p:var c=e.payload.loading,i=void 0!==c&&c;return Object(s.a)(Object(s.a)({},t),{},{loading:i});case f:return ht;default:return t}},vt=Object(ut.combineReducers)({flights:Ot,locations:mt}),gt=Object(ut.createStore)(vt,Object(jt.composeWithDevTools)(Object(ut.applyMiddleware)(bt.a))),_t=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),c(t),i(t)}))},xt=(n(185),document.getElementById("\ud83e\udd84"));i.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(o.a,{store:gt,children:Object(T.jsx)(dt,{})})}),xt),_t()},46:function(t,e,n){t.exports={wrapper:"DateRange_wrapper__hm7q1",input:"DateRange_input__2ODPc"}},47:function(t,e,n){t.exports={wrapper:"App_wrapper__1NLVZ",filters:"App_filters__1lyCi",table:"App_table__39Yr4"}},63:function(t,e,n){t.exports={btn:"Button_btn__1Lkv5",disabled:"Button_disabled__1f6YP"}},87:function(t,e,n){t.exports={wrapper:"SelectCountry_wrapper__1K4Ao"}},89:function(t,e,n){t.exports={btn:"Filters_btn__37VDJ"}},90:function(t,e,n){t.exports={wrapper:"FlightsList_wrapper__23ag3"}}},[[186,1,2]]]);
//# sourceMappingURL=main.a100458f.chunk.js.map