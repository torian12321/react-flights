(this["webpackJsonpreact-flights"]=this["webpackJsonpreact-flights"]||[]).push([[0],{185:function(t,e,n){},186:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(13),i=n.n(r),o=n(18),s=n(8),l=n(21),d=n.n(l),u=n(86),b="LOCATIONS_RESET",f="LOCATIONS_ADD",j="FLIGHTS_SET_LOADER",p="FLIGHTS_RESET",h="FLIGHTS_ADD",O=function(t){return{type:h,payload:{flights:t}}},v=function(t){return{type:j,payload:{loading:t}}},m=n(44),g=function(t){return t.flights||t||{}},_=Object(m.a)(g,(function(t){return t.allIds||[]})),x=Object(m.a)(g,(function(t){return t.byIds||{}})),y=Object(m.a)(g,(function(t){return!!t.loading})),D=n(62),S=n.n(D),w=n(27),I=n(52),C=n.n(I),F=n(63),L=n.n(F),N=n(5),T=function(t){var e=t.children,n=t.type,a=void 0===n?"submit":n,c=t.label,r=t.disabled,i=void 0!==r&&r,o=t.loading,s=void 0!==o&&o,l=t.className,d=t.onClick,u=void 0===d?function(){}:d,b=!(i||s),f=e||c;return f?Object(N.jsx)("button",{type:a,onClick:function(){b&&u()},disabled:!b,className:C()(L.a.btn,!b&&L.a.disabled,l),children:s?"Loading...":f}):null},k=n(33),E=n(93),Y=n(87),A=n.n(Y),M=[],R=function(t){var e=t.onChange,n=t.label,c=void 0===n?"Search":n,r=Object(a.useState)(M),i=Object(k.a)(r,2),o=i[0],s=i[1];return Object(N.jsx)(E.a,{isMulti:!0,options:o,onInputChange:function(t){d.a.get("https://api.skypicker.com/locations?term=".concat(t,"&location_types=airport")).then((function(t){var e=t.data,n=(void 0===e?{}:e).locations;s((void 0===n?[]:n).map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{value:t.id,label:t.name}})))})).catch((function(t){return console.log(t)}))},onChange:function(t){e(t)},placeholder:c,className:A.a.wrapper})},P=function(t){var e=t.name,n=t.label,a=void 0===n?"Search":n;return Object(N.jsx)(w.a,{name:e,children:function(t){return Object(N.jsx)("div",{children:Object(N.jsx)(R,Object(s.a)({label:a},t.input))})}})},B=n(64),G=n.n(B),H=(n(128),n(45)),J=n.n(H),V=function(t){var e=t.onChange,n=new Date,c=new Date,r=Object(a.useState)(n),i=Object(k.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(c.setDate(c.getDate()+7)),d=Object(k.a)(l,2),u=d[0],b=d[1];Object(a.useEffect)((function(){e({from:o,to:u})}),[o,u]);return Object(N.jsxs)("div",{className:J.a.wrapper,children:[Object(N.jsx)(G.a,{className:J.a.input,selected:o,onChange:function(t){s(t)},selectsStart:!0,startDate:o,endDate:u,minDate:n}),Object(N.jsx)(G.a,{className:J.a.input,selected:u,onChange:function(t){b(t)},selectsEnd:!0,startDate:o,endDate:u,minDate:o})]})},q=function(t){var e=t.name,n=t.label,a=void 0===n?"Search":n;return Object(N.jsx)(w.a,{name:e,children:function(t){return Object(N.jsx)("div",{children:Object(N.jsx)(V,Object(s.a)({label:a},t.input))})}})},z=n(89),K=n.n(z),U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dates,n=void 0===e?{}:e;return void 0!==t.from&&void 0!==t.to&&void 0!==n.from&&void 0!==n.to},W=function(t){var e=t.isLoading,n=void 0!==e&&e,a=t.onSubmit;return Object(N.jsx)(w.b,{onSubmit:function(t){var e=t.from,n=void 0===e?[]:e,c=t.to,r=void 0===c?[]:c,i=t.dates,o=void 0===i?{}:i;a({from:n.map((function(t){return t.value})).join(","),to:r.map((function(t){return t.value})).join(","),dateFrom:S()(o.from).format("DD/MM/YYYY"),dateTo:S()(o.to).format("DD/MM/YYYY")})},onChange:function(t){return console.log(t)},children:function(t){var e=t.values,a=t.handleSubmit;return Object(N.jsxs)("form",{onSubmit:a,children:[Object(N.jsx)(P,{name:"from",label:"From"}),Object(N.jsx)(P,{name:"to",label:"To"}),Object(N.jsx)(q,{name:"dates"}),Object(N.jsx)(T,{label:"Search",loading:n,disabled:!U(e),className:K.a.btn})]})}})},Z=Object(o.b)((function(t){return{isLoading:y(t)}}),(function(t){return{onSubmit:function(e){return t((n=e,function(t){t(v(!0));var e=n.from,a=n.to,c=n.dateFrom,r=n.dateTo;d.a.get("https://api.skypicker.com/flights",{params:{v:"3",fly_from:e,fly_to:a,partner:"skypicker",date_from:c,date_to:r,sort:"price",asc:1,limit:20}}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(u.get)(e,"data.data",[]);t(O(n.map((function(t){return Object(s.a)({id:t.id},t)}))))})).catch((function(t){return console.log(t)})).finally((function(){return t(v(!1))}))}));var n}}}))(c.a.memo(W)),Q=n(46),X=n.n(Q),$=function(t){var e=t.price;return Object(N.jsxs)("div",{className:X.a.wrapper,children:[Object(N.jsx)("span",{className:X.a.content,children:"Flight goes here my page ocntent"}),Object(N.jsx)("span",{className:X.a.price,children:e})]})},tt=Object(o.b)((function(t,e){var n=function(t,e){return x(t)[e]}(t,e.id);console.log("Flichg",n);var a=n.conversion;return{id:"aa",from:"bb",to:"cc",price:"\u20ac ".concat((void 0===a?{}:a).EUR)}}),{})(c.a.memo($)),et=n(90),nt=n.n(et),at=function(t){var e=t.flights,n=void 0===e?[]:e,a=t.isLoading,c=void 0!==a&&a,r=!!n.length;return Object(N.jsx)("div",{className:nt.a.wrapper,children:c?"Loading...":r?n.map((function(t){return Object(N.jsx)(tt,{id:t},t)})):"Please, select flight conditions"})},ct=Object(o.b)((function(t){return{flights:_(t),isLoading:y(t)}}),{})(c.a.memo(at)),rt=n(47),it=n.n(rt),ot=function(){return Object(N.jsxs)("div",{className:it.a.wrapper,children:[Object(N.jsx)("div",{className:it.a.filters,children:Object(N.jsx)(Z,{})}),Object(N.jsx)("div",{className:it.a.table,children:Object(N.jsx)(ct,{})})]})},st=n(26),lt=n(91),dt=n(92),ut=n(28),bt={allIds:[],byIds:{}},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:var n=e.payload.locations,a=void 0===n?[]:n,c={};return a.forEach((function(t){c[t.id]=Object(s.a)({},t)})),Object(s.a)(Object(s.a)({},t),{},{allIds:[].concat(Object(ut.a)(t.allIds),Object(ut.a)(a.map((function(t){return t.id})))),byIds:Object(s.a)(Object(s.a)({},t.byIds),c)});case b:return bt;default:return t}},jt={loading:!1,allIds:[],byIds:{}},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:var n=e.payload.flights,a=void 0===n?[]:n,c={};return a.forEach((function(t){c[t.id]=Object(s.a)({},t)})),Object(s.a)(Object(s.a)({},t),{},{allIds:[].concat(Object(ut.a)(t.allIds),Object(ut.a)(a.map((function(t){return t.id})))),byIds:Object(s.a)(Object(s.a)({},t.byIds),c)});case j:var r=e.payload.loading,i=void 0!==r&&r;return Object(s.a)(Object(s.a)({},t),{},{loading:i});case p:return jt;default:return t}},ht=Object(st.combineReducers)({flights:pt,locations:ft}),Ot=Object(st.createStore)(ht,Object(dt.composeWithDevTools)(Object(st.applyMiddleware)(lt.a))),vt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,191)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),r(t),i(t)}))},mt=(n(185),document.getElementById("\ud83e\udd84"));i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(o.a,{store:Ot,children:Object(N.jsx)(ot,{})})}),mt),vt()},45:function(t,e,n){t.exports={wrapper:"DateRange_wrapper__hm7q1",input:"DateRange_input__2ODPc"}},46:function(t,e,n){t.exports={wrapper:"FlightCard_wrapper__2kp2k",content:"FlightCard_content__3iwTe",price:"FlightCard_price__1z7lT"}},47:function(t,e,n){t.exports={wrapper:"App_wrapper__1NLVZ",filters:"App_filters__1lyCi",table:"App_table__39Yr4"}},63:function(t,e,n){t.exports={btn:"Button_btn__1Lkv5",disabled:"Button_disabled__1f6YP"}},87:function(t,e,n){t.exports={wrapper:"SelectCountry_wrapper__1K4Ao"}},89:function(t,e,n){t.exports={btn:"Filters_btn__37VDJ"}},90:function(t,e,n){t.exports={wrapper:"FlightsList_wrapper__23ag3"}}},[[186,1,2]]]);
//# sourceMappingURL=main.7a2bc210.chunk.js.map